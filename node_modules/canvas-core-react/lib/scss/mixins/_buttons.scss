@import './animations';
@import './typography';
@import '../theme/typography';
@import '../theme/colors';
@import '../variables/palette';

$button-defaults: (
    font: (family: $font-bold-family, size: 1.6rem, line: 1.6rem, spacing: 0rem, weight: initial),
    text-decoration: none,
    border: .1rem solid,
    border-radius: .8rem,
    padding: 0 3.6rem
);

@mixin set-button-color($color, $bg-color, $border-color) {
    background-color: $bg-color;
    border-color: $border-color;
    color: $color;
}

@mixin button-base($button-overrides: $button-defaults) {
    $button: map-merge($button-defaults, $button-overrides);

    @include set-font(map-get($button, font));
    border: map-get($button, border);
    border-radius: map-get($button, border-radius);
    padding: map-get($button, padding);
    text-decoration: map-get($button, text-decoration);
}

@mixin nav-button-focus {
    .ButtonCore__block {
        &::after {
            @include input-focus-style(0.2rem);
            box-shadow: 
                0 0 0 0.4rem $brand-white, 
                0 0 0 0.6rem $brand-blue;
        }
    }

    &:focus {
        > .ButtonCore__block {
            &::after { opacity: 1; }
        }
    }
}

@mixin primary-secondary-button-base {
    min-height: 5.4rem;
    min-width: 11.8rem;

    &:hover,
    &:focus {
        @include set-button-color($brand-white, $canvas-dark-red, $canvas-dark-red);
    }

    &:focus {
        outline: transparent;

        > .ButtonCore__block {
            &::after { opacity: 1; }
        }
    }

    &::-moz-focus-inner { border: 0; }

    .ButtonCore__block {
        &::after { @include input-focus-style(.8rem, .2rem, -.1rem); }
    }

    &:disabled,
    &:hover {
        &:disabled {
            @include set-button-color($canvas-gray-600, $canvas-gray-300, $canvas-gray-500);
        }
    }
}

@mixin continue-submit-nav-button-base {
    @include set-button-color($brand-red, transparent, transparent);
    @include hover-color-transition();
    outline: none;
    padding: 0;

    &:hover:enabled, // sass-lint:disable-line force-pseudo-nesting
    &:focus:enabled { // sass-lint:disable-line force-pseudo-nesting force-element-nesting
        @include set-button-color($canvas-dark-red, transparent, transparent);

        & .NavButton__icon {
            @include set-button-color($brand-white, $canvas-dark-red, transparent);
            transition: background-color ease-in .1s;
        }
    }

    @include nav-button-focus();

    &::-moz-focus-inner { border: 0; }

    &:disabled {
        &:disabled {
            @include set-button-color($canvas-gray-500, transparent, transparent);

            & .NavButton__icon  {
                color: $canvas-gray-600;
                background: $canvas-gray-300;
                border: 1px solid $canvas-gray-500;
            }
        }
    }
}